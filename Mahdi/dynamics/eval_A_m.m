function A_m = eval_A_m(q_m)


q1_m = q_m(1);
q2_m = q_m(2);
q3_m = q_m(3);

[m1, m2, m3, l1, l2, l3, g] = set_parameters();
m=m1;



t2 = cos(q1_m);
t3 = sin(q1_m);
t4 = sin(q2_m);
t5 = l2.*t4;
t6 = l1.*t3;
t7 = l1.*t2;
t8 = cos(q2_m);
t9 = (l2.*t8)./2.0;
t10 = t5-t6-t7+t9;
t11 = cos(q3_m);
t12 = (l3.*t11)./2.0;
t13 = -t5+t6+t7+t12;
t14 = sin(q3_m);
t15 = (l3.*t14)./2.0;
t16 = t5+t15;
A_m = reshape([-m3.*(l1.*t2.*t13+l1.*t3.*t16)-m.*((l1.*t2.*(-t5+t6+(l1.*t2)./2.0))./2.0+(l1.*t3.*(t5-(l1.*t3)./2.0))./2.0)+m.*(l1.*t2.*t10-(l1.*l2.*t3.*t4)./2.0),l1.^2.*m.*(-1.0./4.0),0.0,(l2.^2.*m.*t4.^2)./4.0-(l2.*m.*t8.*t10)./2.0,0.0,0.0,l3.*m3.*t11.*t13.*(-1.0./2.0)-(l3.*m3.*t14.*t16)./2.0,0.0,l3.^2.*m3.*(-1.0./4.0)],[3,3]);

end